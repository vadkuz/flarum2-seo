{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@vadkuz/flarum2-seo/webpack/bootstrap","webpack://@vadkuz/flarum2-seo/webpack/runtime/compat get default export","webpack://@vadkuz/flarum2-seo/webpack/runtime/define property getters","webpack://@vadkuz/flarum2-seo/webpack/runtime/hasOwnProperty shorthand","webpack://@vadkuz/flarum2-seo/webpack/runtime/make namespace object","webpack://@vadkuz/flarum2-seo/external root \"flarum.reg.get('core', 'forum/app')\"","webpack://@vadkuz/flarum2-seo/external root \"flarum.reg.get('core', 'forum/utils/DiscussionControls')\"","webpack://@vadkuz/flarum2-seo/external root \"flarum.reg.get('core', 'common/components/Button')\"","webpack://@vadkuz/flarum2-seo/external root \"flarum.reg.get('core', 'common/extend')\"","webpack://@vadkuz/flarum2-seo/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://@vadkuz/flarum2-seo/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://@vadkuz/flarum2-seo/./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","webpack://@vadkuz/flarum2-seo/./node_modules/@babel/runtime/helpers/esm/toPrimitive.js","webpack://@vadkuz/flarum2-seo/external root \"flarum.reg.get('core', 'common/components/Modal')\"","webpack://@vadkuz/flarum2-seo/external root \"flarum.reg.get('core', 'common/components/Switch')\"","webpack://@vadkuz/flarum2-seo/external root \"flarum.reg.get('core', 'common/utils/Stream')\"","webpack://@vadkuz/flarum2-seo/external root \"flarum.reg.get('core', 'common/components/Alert')\"","webpack://@vadkuz/flarum2-seo/external root \"flarum.reg.get('core', 'common/components/LoadingIndicator')\"","webpack://@vadkuz/flarum2-seo/./src/admin/utils/countKeywords.js","webpack://@vadkuz/flarum2-seo/./node_modules/clsx/dist/clsx.mjs","webpack://@vadkuz/flarum2-seo/./src/common/Components/MetaSeoModal.js","webpack://@vadkuz/flarum2-seo/external root \"flarum.reg.get('core', 'common/Model')\"","webpack://@vadkuz/flarum2-seo/external root \"flarum.reg.get('core', 'common/utils/mixin')\"","webpack://@vadkuz/flarum2-seo/./src/common/Models/SeoMeta.js","webpack://@vadkuz/flarum2-seo/external root \"flarum.reg.get('core', 'common/models/Discussion')\"","webpack://@vadkuz/flarum2-seo/./src/common/extend.ts","webpack://@vadkuz/flarum2-seo/./src/forum/index.ts"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'forum/app');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'forum/utils/DiscussionControls');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/components/Button');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/extend');","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nexport { _typeof as default };","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nexport { _defineProperty as default };","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nexport { toPropertyKey as default };","import _typeof from \"./typeof.js\";\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nexport { toPrimitive as default };","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/components/Modal');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/components/Switch');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/utils/Stream');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/components/Alert');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/components/LoadingIndicator');","/**\n * Check if the keywords field is filled in correctly\n * \n * @param string _keywords \n */\nexport default function countKeywords(_keywords) {\n  // No keywords set up yet\n  if (_keywords == \"\") return true;\n\n  // Split all commas\n  const keywords = _keywords.split(\",\");\n  let status_ok = true;\n\n  // Go through all keywords\n  for (let keyword of keywords) {\n    // Keywords shouldn't have more then three spaces\n    if (keyword.split(\" \").length > 4) {\n      status_ok = false;\n      break;\n    }\n  }\n  ;\n\n  // Seems allright\n  return status_ok;\n}\nflarum.reg.add('vadkuz-flarum2-seo', 'admin/utils/countKeywords', countKeywords);","function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f)}else for(f in e)e[f]&&(n&&(n+=\" \"),n+=f);return n}export function clsx(){for(var e,t,f=0,n=\"\",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport Modal from \"flarum/common/components/Modal\";\nimport Button from \"flarum/common/components/Button\";\nimport Switch from \"flarum/common/components/Switch\";\nimport Stream from \"flarum/common/utils/Stream\";\nimport Alert from \"flarum/common/components/Alert\";\nimport LoadingIndicator from \"flarum/common/components/LoadingIndicator\";\nimport countKeywords from \"../../admin/utils/countKeywords\";\nimport clsx from \"clsx\";\nexport default class MetaSeoModal extends Modal {\n  constructor() {\n    super(...arguments);\n    _defineProperty(this, \"initialized\", true);\n    _defineProperty(this, \"initialLoading\", false);\n  }\n  trans(key, params) {\n    if (params === void 0) {\n      params = {};\n    }\n    return app.translator.trans(\"vadkuz-flarum2-seo.forum.meta_modal.\".concat(key), params);\n  }\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    // Open dialog\n    if (this.attrs.object) {\n      // Get SeoMeta relationship\n      if (!this.attrs.object.seoMeta) {\n        this.initialized = false;\n        app.alerts.show(Alert, {\n          type: \"error\",\n          title: this.trans(\"alerts.unsupported_object_title\"),\n          controls: [m(\"a\", {\n            class: \"Button Button--link\",\n            href: \"https://github.com/vadkuz/flarum2-seo\",\n            target: \"_blank\"\n          }, this.trans(\"alerts.documentation_button\"))]\n        }, this.trans(\"alerts.unsupported_object_body\"));\n        setTimeout(() => {\n          this.hide();\n        }, 100);\n        return;\n      }\n      this.meta = this.attrs.object.seoMeta();\n    } else {\n      this.initializeLoad();\n    }\n    this.hasChanges = false;\n    this.closeText = this.trans(\"buttons.close\");\n    this.closeInfoText = null;\n    this.loading = false;\n    this.enableCustomTwitter = false;\n    this.enableCustomOpenGraph = false;\n    this.wasManaged = true;\n    this.seoTagsOpened = false;\n\n    // Define options\n    this.initializeData();\n  }\n  initializeData() {\n    if (!this.meta) return;\n    this.autoUpdateData = Stream(this.meta.autoUpdateData());\n    this.wasManaged = this.meta.autoUpdateData() === true;\n    this.metaTitle = Stream(this.meta.title());\n    this.description = Stream(this.meta.description());\n    this.keywords = Stream(this.meta.keywords());\n    this.robotsNoindex = Stream(this.meta.robotsNoindex());\n    this.robotsNofollow = Stream(this.meta.robotsNofollow());\n    this.robotsNoarchive = Stream(this.meta.robotsNoarchive());\n    this.robotsNoimageindex = Stream(this.meta.robotsNoimageindex());\n    this.robotsNosnippet = Stream(this.meta.robotsNosnippet());\n    this.twitterTitle = Stream(this.meta.twitterTitle());\n    this.twitterDescription = Stream(this.meta.twitterDescription());\n    this.twitterImage = Stream(this.meta.twitterImage());\n    this.twitterImageSource = Stream(this.meta.twitterImageSource());\n    this.openGraphTitle = Stream(this.meta.openGraphTitle());\n    this.openGraphDescription = Stream(this.meta.openGraphDescription());\n    this.openGraphImage = Stream(this.meta.openGraphImage());\n    this.openGraphImageSource = Stream(this.meta.openGraphImageSource());\n    this.estimatedReadingTime = Stream(this.meta.estimatedReadingTime());\n    this.createdAt = Stream(this.meta.createdAt());\n    this.updatedAt = Stream(this.meta.updatedAt());\n    this.enableCustomTwitter = this.twitterTitle() !== null || this.twitterDescription() !== null || this.twitterImageSource() !== \"auto\";\n    this.enableCustomOpenGraph = this.openGraphTitle() !== null || this.openGraphDescription() !== null;\n  }\n  title() {\n    return this.trans(\"title\");\n  }\n  className() {\n    return \"Modal Modal-SEO-settings\";\n  }\n  initializeLoad() {\n    this.initialLoading = true;\n    app.store.find(\"seoMeta\", \"\".concat(this.attrs.objectType, \"-\").concat(this.attrs.objectId)).then(data => {\n      this.isLoading = false;\n      this.meta = data;\n      this.initialLoading = false;\n      this.initializeData();\n    }).then(() => {\n      m.redraw();\n    });\n  }\n  content() {\n    var _this$keywords, _this$openGraphImage;\n    // Hide due to invalid relationship or loading data\n    if (!this.initialized || this.initialLoading) {\n      return m(\"div\", null, LoadingIndicator.component({}));\n    }\n    return m(\"div\", null, m(\"div\", {\n      className: \"Modal-body\",\n      onkeyup: () => this.updateHasChanges()\n    }, m(\"div\", {\n      className: \"Form\"\n    }, m(\"div\", {\n      className: \"SeoItemContainer\"\n    }, m(\"div\", {\n      className: \"SeoItemInfo\"\n    }, m(\"div\", {\n      class: \"SeoItemInfo-title\"\n    }, this.trans(\"auto_update.title\")), m(\"div\", {\n      className: \"helpText\"\n    }, this.trans(\"auto_update.help\"))), m(\"div\", {\n      className: \"SeoItemContent\"\n    }, m(\"div\", {\n      className: \"ManagedContainer\"\n    }, Switch.component({\n      state: this.autoUpdateData(),\n      onchange: value => {\n        this.autoUpdateData(value);\n        this.updateHasChanges();\n      }\n    }, this.trans(\"auto_update.toggle\"))))), m(\"div\", {\n      className: \"SeoItemContainer\"\n    }, m(\"div\", {\n      className: \"SeoItemInfo\"\n    }, m(\"div\", {\n      class: \"SeoItemInfo-title\"\n    }, this.trans(\"meta_title.title\")), m(\"div\", {\n      className: \"helpText\"\n    }, this.trans(\"meta_title.help\"))), m(\"div\", {\n      className: \"SeoItemContent\"\n    }, m(\"div\", {\n      className: \"ManagedContainer\"\n    }, m(\"input\", {\n      className: \"FormControl\",\n      bidi: this.metaTitle,\n      placeholder: this.trans(\"placeholders.page_title\"),\n      disabled: this.autoUpdateData()\n    }), this.autoUpdateData() && m(\"div\", {\n      className: \"ManagedText\"\n    }, m(\"i\", {\n      className: \"fas fa-check\"\n    }), \" \", this.trans(\"managed\"))))), m(\"div\", {\n      className: \"SeoItemContainer\"\n    }, m(\"div\", {\n      className: \"SeoItemInfo\"\n    }, m(\"div\", {\n      class: \"SeoItemInfo-title\"\n    }, this.trans(\"meta_description.title\")), m(\"div\", {\n      className: \"helpText\"\n    }, this.trans(\"meta_description.help\"))), m(\"div\", {\n      className: \"SeoItemContent\"\n    }, m(\"div\", {\n      className: \"ManagedContainer\"\n    }, m(\"textarea\", {\n      className: \"FormControl\",\n      bidi: this.description,\n      placeholder: this.trans(\"placeholders.meta_description\"),\n      disabled: this.autoUpdateData()\n    }), this.autoUpdateData() && m(\"div\", {\n      className: \"ManagedText\"\n    }, m(\"i\", {\n      className: \"fas fa-check\"\n    }), \" \", this.trans(\"managed\"))))), m(\"div\", {\n      className: \"SeoItemContainer\"\n    }, m(\"div\", {\n      className: \"SeoItemInfo\"\n    }, m(\"div\", {\n      class: \"SeoItemInfo-title\"\n    }, this.trans(\"keywords.title\")), m(\"div\", {\n      className: \"helpText\"\n    }, this.trans(\"keywords.help\"))), m(\"div\", {\n      className: \"SeoItemContent\"\n    }, m(\"textarea\", {\n      className: \"FormControl\",\n      bidi: this.keywords,\n      placeholder: this.trans(\"placeholders.keywords\")\n    }), m(\"div\", {\n      className: clsx(\"SeoItemContent-helpertext\", countKeywords((_this$keywords = this.keywords()) != null ? _this$keywords : \"\") == false && \"invalid\")\n    }, m(\"b\", null, this.trans(\"keywords.note\")), \" \", this.trans(\"keywords.example_prefix\"), \" \", m(\"i\", null, this.trans(\"keywords.example_values\"))))), m(\"div\", {\n      className: \"SeoItemContainer\"\n    }, m(\"div\", {\n      className: \"SeoItemInfo\"\n    }, m(\"div\", {\n      class: \"SeoItemInfo-title\"\n    }, this.trans(\"meta_image.title\")), m(\"div\", {\n      className: \"helpText\"\n    }, this.trans(\"meta_image.help\"))), m(\"div\", {\n      className: \"SeoItemContent\"\n    }, m(\"div\", {\n      className: \"ManagedContainer\"\n    }, m(\"input\", {\n      className: \"FormControl\",\n      bidi: this.openGraphImage,\n      placeholder: this.trans(\"placeholders.image_url\"),\n      disabled: this.autoUpdateData() && this.openGraphImageSource() === \"auto\"\n    }), this.autoUpdateData() && this.openGraphImageSource() !== \"custom\" && m(\"div\", {\n      className: \"ManagedText\"\n    }, m(\"i\", {\n      className: \"fas fa-check\"\n    }), \" \", this.trans(\"managed\")), !this.autoUpdateData() && this.returnFoFUploadButton(fileUrl => {\n      this.openGraphImage(fileUrl);\n      this.openGraphImageSource(\"fof-upload\");\n    }), this.openGraphImageSource() !== \"auto\" && this.openGraphImageSource() !== \"custom\" && m(\"div\", {\n      className: \"SeoItemContent-helpertext\"\n    }, this.trans(\"meta_image.managed_by\", {\n      source: this.openGraphImageSource()\n    }))))), m(\"div\", {\n      className: \"SeoItemContainer\"\n    }, m(\"div\", {\n      className: \"SeoItemInfo\"\n    }, m(\"div\", {\n      class: \"SeoItemInfo-title\"\n    }, this.trans(\"robots.title\")), m(\"div\", {\n      className: \"helpText\"\n    }, this.trans(\"robots.help\"))), m(\"div\", {\n      className: \"SeoItemContent\"\n    }, m(\"div\", {\n      class: clsx(\"SeoTags-dropdown-container\", this.seoTagsOpened && \"SeoTags-dropdown-open\")\n    }, m(\"div\", {\n      className: \"SeoTags\",\n      onclick: () => this.seoTagsOpened = !this.seoTagsOpened\n    }, this.returnTag(!this.robotsNoindex(), this.trans(\"robots.tags.allow_indexing\"), this.trans(\"robots.tags.disallow_indexing\")), this.returnTag(!this.robotsNofollow(), this.trans(\"robots.tags.allow_follow\"), this.trans(\"robots.tags.disallow_follow\")), this.robotsNoarchive() && this.returnTag(false, \"\", this.trans(\"robots.tags.disallow_archive\")), this.robotsNoimageindex() && this.returnTag(false, \"\", this.trans(\"robots.tags.disallow_image_indexing\")), this.robotsNosnippet() && this.returnTag(false, \"\", this.trans(\"robots.tags.disallow_snippets\"))), m(\"div\", {\n      className: \"SeoTags-dropdown\"\n    }, Switch.component({\n      state: !this.robotsNoindex(),\n      onchange: value => {\n        this.robotsNoindex(!value);\n        this.updateHasChanges();\n      }\n    }, this.trans(\"robots.switches.allow_indexing\")), Switch.component({\n      state: !this.robotsNofollow(),\n      onchange: value => {\n        this.robotsNofollow(!value);\n        this.updateHasChanges();\n      }\n    }, this.trans(\"robots.switches.allow_follow\")), Switch.component({\n      state: this.robotsNoarchive(),\n      onchange: value => {\n        this.robotsNoarchive(value);\n        this.updateHasChanges();\n      }\n    }, this.trans(\"robots.switches.noarchive\")), Switch.component({\n      state: this.robotsNoimageindex(),\n      onchange: value => {\n        this.robotsNoimageindex(value);\n        this.updateHasChanges();\n      }\n    }, this.trans(\"robots.switches.noimageindex\")), Switch.component({\n      state: this.robotsNosnippet(),\n      onchange: value => {\n        this.robotsNosnippet(value);\n        this.updateHasChanges();\n      }\n    }, this.trans(\"robots.switches.nosnippet\")))))), m(\"div\", {\n      className: \"SeoItemContainer\"\n    }, m(\"div\", {\n      className: \"SeoItemInfo\"\n    }, m(\"div\", {\n      class: \"SeoItemInfo-title\"\n    }, this.trans(\"reading_time.title\")), m(\"div\", {\n      className: \"helpText\"\n    }, this.trans(\"reading_time.help\"))), m(\"div\", {\n      className: \"SeoItemContent\"\n    }, m(\"div\", {\n      className: \"ManagedContainer\"\n    }, m(\"input\", {\n      className: \"FormControl\",\n      bidi: this.estimatedReadingTime,\n      placeholder: this.trans(\"placeholders.reading_time_seconds\"),\n      type: \"number\",\n      disabled: this.autoUpdateData()\n    }), this.autoUpdateData() && m(\"div\", {\n      className: \"ManagedText\"\n    }, m(\"i\", {\n      className: \"fas fa-check\"\n    }), \" \", this.trans(\"managed\"))))), m(\"div\", {\n      className: \"SeoItemContainer\"\n    }, m(\"div\", {\n      className: \"SeoItemInfo\"\n    }, m(\"div\", {\n      class: \"SeoItemInfo-title\"\n    }, this.trans(\"twitter_card.title\"))), m(\"div\", {\n      className: \"SeoItemContent\"\n    }, m(\"div\", {\n      className: \"ManagedContainer\"\n    }, Switch.component({\n      state: !this.enableCustomTwitter,\n      onchange: value => {\n        this.enableCustomTwitter = !value;\n        this.updateHasChanges();\n      },\n      disabled: this.autoUpdateData()\n    }, this.trans(\"twitter_card.auto_generate\")), this.autoUpdateData() && m(\"div\", {\n      className: \"ManagedText\"\n    }, m(\"i\", {\n      className: \"fas fa-check\"\n    }), \" \", this.trans(\"managed\"))))), this.enableCustomTwitter && m(\"div\", {\n      className: \"SeoItemContainer\"\n    }, m(\"div\", {\n      className: \"SeoItemInfo\"\n    }, m(\"div\", {\n      class: \"SeoItemInfo-title\"\n    }, this.trans(\"twitter_card.twitter_title\"))), m(\"div\", {\n      className: \"SeoItemContent\"\n    }, m(\"div\", {\n      className: \"ManagedContainer\"\n    }, m(\"input\", {\n      className: \"FormControl\",\n      bidi: this.twitterTitle,\n      placeholder: this.metaTitle(),\n      disabled: this.autoUpdateData()\n    })))), this.enableCustomTwitter && m(\"div\", {\n      className: \"SeoItemContainer\"\n    }, m(\"div\", {\n      className: \"SeoItemInfo\"\n    }, m(\"div\", {\n      class: \"SeoItemInfo-title\"\n    }, this.trans(\"twitter_card.twitter_description\"))), m(\"div\", {\n      className: \"SeoItemContent\"\n    }, m(\"div\", {\n      className: \"ManagedContainer\"\n    }, m(\"textarea\", {\n      className: \"FormControl\",\n      bidi: this.twitterDescription,\n      placeholder: this.description(),\n      disabled: this.autoUpdateData()\n    })))), this.enableCustomTwitter && m(\"div\", {\n      className: \"SeoItemContainer\"\n    }, m(\"div\", {\n      className: \"SeoItemInfo\"\n    }, m(\"div\", {\n      class: \"SeoItemInfo-title\"\n    }, this.trans(\"twitter_card.twitter_image\")), m(\"div\", {\n      className: \"helpText\"\n    }, this.trans(\"twitter_card.image_help\"))), m(\"div\", {\n      className: \"SeoItemContent\"\n    }, m(\"div\", {\n      className: \"ManagedContainer\"\n    }, m(\"input\", {\n      className: \"FormControl\",\n      bidi: this.twitterImage,\n      placeholder: (_this$openGraphImage = this.openGraphImage()) != null ? _this$openGraphImage : this.trans(\"placeholders.image_url\"),\n      disabled: this.autoUpdateData() && this.twitterImage() === \"auto\"\n    }), this.returnFoFUploadButton(fileUrl => {\n      this.twitterImage(fileUrl);\n      this.twitterImageSource(\"fof-upload\");\n    }), this.twitterImageSource() !== \"auto\" && this.twitterImageSource() !== \"custom\" && m(\"div\", {\n      className: \"SeoItemContent-helpertext\"\n    }, this.trans(\"twitter_card.managed_by\", {\n      source: this.twitterImageSource()\n    }), \" \", m(\"a\", {\n      href: \"#\",\n      onclick: e => {\n        e.preventDefault();\n        this.twitterImage(null);\n        this.twitterImageSource(\"auto\");\n        this.updateHasChanges();\n      }\n    }, this.trans(\"actions.reset_image\")))))), m(\"div\", {\n      className: \"SeoItemContainer\"\n    }, m(\"div\", {\n      className: \"SeoItemInfo\"\n    }, m(\"div\", {\n      class: \"SeoItemInfo-title\"\n    }, this.trans(\"open_graph.title\"))), m(\"div\", {\n      className: \"SeoItemContent\"\n    }, m(\"div\", {\n      className: \"ManagedContainer\"\n    }, Switch.component({\n      state: !this.enableCustomOpenGraph,\n      onchange: value => {\n        this.enableCustomOpenGraph = !value;\n        this.updateHasChanges();\n      },\n      disabled: this.autoUpdateData()\n    }, this.trans(\"open_graph.auto_generate\")), this.autoUpdateData() && m(\"div\", {\n      className: \"ManagedText\"\n    }, m(\"i\", {\n      className: \"fas fa-check\"\n    }), \" \", this.trans(\"managed\"))))), this.enableCustomOpenGraph && m(\"div\", {\n      className: \"SeoItemContainer\"\n    }, m(\"div\", {\n      className: \"SeoItemInfo\"\n    }, m(\"div\", {\n      class: \"SeoItemInfo-title\"\n    }, this.trans(\"open_graph.open_graph_title\"))), m(\"div\", {\n      className: \"SeoItemContent\"\n    }, m(\"div\", {\n      className: \"ManagedContainer\"\n    }, m(\"input\", {\n      className: \"FormControl\",\n      bidi: this.openGraphTitle,\n      placeholder: this.metaTitle(),\n      disabled: this.autoUpdateData()\n    })))), this.enableCustomOpenGraph && m(\"div\", {\n      className: \"SeoItemContainer\"\n    }, m(\"div\", {\n      className: \"SeoItemInfo\"\n    }, m(\"div\", {\n      class: \"SeoItemInfo-title\"\n    }, this.trans(\"open_graph.open_graph_description\"))), m(\"div\", {\n      className: \"SeoItemContent\"\n    }, m(\"div\", {\n      className: \"ManagedContainer\"\n    }, m(\"textarea\", {\n      className: \"FormControl\",\n      bidi: this.openGraphDescription,\n      placeholder: this.trans(\"placeholders.custom_twitter_description\"),\n      disabled: this.autoUpdateData()\n    })))))), m(\"div\", {\n      style: \"padding: 25px 30px; text-align: center;\"\n    }, this.closeInfoText && m(\"div\", {\n      style: \"margin-bottom: 15px; font-size: 12px;\"\n    }, m(\"b\", null, this.trans(\"notices.note_label\")), \" \", this.closeInfoText), this.closeDialogButton()));\n  }\n  returnFoFUploadButton(onSelect) {\n    var _flarum$extensions, _fofUpload$components, _fofUpload$components2;\n    let fofUploadButton = null;\n    const fofUpload = (_flarum$extensions = flarum.extensions) == null ? void 0 : _flarum$extensions[\"fof-upload\"];\n    const Uploader = fofUpload == null || (_fofUpload$components = fofUpload.components) == null ? void 0 : _fofUpload$components.Uploader;\n    const FileManagerModal = fofUpload == null || (_fofUpload$components2 = fofUpload.components) == null ? void 0 : _fofUpload$components2.FileManagerModal;\n    if (\"fof-upload\" in flarum.extensions && app.forum.attribute(\"fof-upload.canUpload\") && Uploader && FileManagerModal) {\n      const uploader = new Uploader();\n      fofUploadButton = m(Button, {\n        class: \"UploadButton Button\",\n        onclick: async () => {\n          app.modal.show(FileManagerModal, {\n            uploader: uploader,\n            onSelect: files => {\n              const file = app.store.getById(\"files\", files[0]);\n              onSelect(file.url());\n              this.updateHasChanges();\n            }\n          }, true);\n        }\n      }, this.trans(\"buttons.upload_file\"));\n    }\n    return fofUploadButton;\n  }\n  returnTag(isEnabled, enabledText, disabledText) {\n    return m(\"div\", {\n      className: clsx(\"SeoTag\", !isEnabled && \"SeoTagDisabled\")\n    }, isEnabled ? enabledText : disabledText);\n  }\n  closeDialogButton() {\n    return m(Button, {\n      type: \"submit\",\n      className: \"Button Button--primary\",\n      loading: this.loading\n    }, this.closeText);\n  }\n  updateHasChanges() {\n    this.closeText = !this.wasManaged && this.autoUpdateData() ? this.trans(\"buttons.save_autofill\") : this.trans(\"buttons.save\");\n    if (!this.wasManaged && this.autoUpdateData()) {\n      this.closeInfoText = this.trans(\"notices.autofill_warning\");\n    } else {\n      this.closeInfoText = null;\n    }\n    this.hasChanges = true;\n  }\n  submitData() {\n    let data = {};\n    data.autoUpdateData = this.autoUpdateData();\n    data.title = this.metaTitle();\n    data.description = this.description();\n\n    // Add keywords\n    if (this.keywords() !== \"\") {\n      var _this$keywords2;\n      data.keywords = (_this$keywords2 = this.keywords()) != null ? _this$keywords2 : null;\n    }\n\n    // Add robot settings\n    data.robotsNoindex = this.robotsNoindex();\n    data.robotsNofollow = this.robotsNofollow();\n    data.robotsNoarchive = this.robotsNoarchive();\n    data.robotsNoimageindex = this.robotsNoimageindex();\n    data.robotsNosnippet = this.robotsNosnippet();\n\n    // Add Twitter info\n    if (this.twitterTitle() !== \"\") {\n      var _this$twitterTitle;\n      data.twitterTitle = (_this$twitterTitle = this.twitterTitle()) != null ? _this$twitterTitle : null;\n    }\n    if (this.twitterDescription() !== \"\") {\n      var _this$twitterDescript;\n      data.twitterDescription = (_this$twitterDescript = this.twitterDescription()) != null ? _this$twitterDescript : null;\n    }\n    if (this.twitterImage() !== \"\") {\n      data.twitterImage = this.twitterImage();\n    }\n    if (this.twitterImageSource() !== \"auto\") {\n      var _this$twitterImageSou;\n      data.twitterImageSource = (_this$twitterImageSou = this.twitterImageSource()) != null ? _this$twitterImageSou : null;\n    }\n\n    // Open graph\n    if (this.openGraphTitle() !== \"\") {\n      var _this$openGraphTitle;\n      data.openGraphTitle = (_this$openGraphTitle = this.openGraphTitle()) != null ? _this$openGraphTitle : null;\n    }\n    if (this.openGraphDescription() !== \"\") {\n      var _this$openGraphDescri;\n      data.openGraphDescription = (_this$openGraphDescri = this.openGraphDescription()) != null ? _this$openGraphDescri : null;\n    }\n    if (this.openGraphImage() !== \"\") {\n      var _this$openGraphImage2;\n      data.openGraphImage = (_this$openGraphImage2 = this.openGraphImage()) != null ? _this$openGraphImage2 : null;\n    }\n    if (this.openGraphImageSource() !== \"auto\") {\n      var _this$openGraphImageS;\n      data.openGraphImageSource = (_this$openGraphImageS = this.openGraphImageSource()) != null ? _this$openGraphImageS : null;\n    }\n    if (this.estimatedReadingTime() !== \"\") {\n      var _this$estimatedReadin;\n      data.estimatedReadingTime = (_this$estimatedReadin = this.estimatedReadingTime()) != null ? _this$estimatedReadin : null;\n    }\n    return data;\n  }\n\n  // Close or save setting\n  onsubmit(e) {\n    e.preventDefault();\n    if (!this.hasChanges) {\n      this.hide();\n      return;\n    }\n    this.loading = true;\n    this.meta.save(this.submitData()).then(() => {\n      app.alerts.show({\n        type: \"success\"\n      }, this.trans(\"alerts.saved\"));\n      this.hide();\n    }).catch(e => {\n      console.log(e);\n    }).then(() => {\n      this.saving = false;\n      m.redraw();\n    });\n  }\n  onsaved() {\n    this.hide();\n  }\n}\nflarum.reg.add('vadkuz-flarum2-seo', 'common/Components/MetaSeoModal', MetaSeoModal);","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/Model');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/utils/mixin');","import Model from \"flarum/common/Model\";\nimport mixin from \"flarum/common/utils/mixin\";\nexport default class SeoMeta extends mixin(Model, {\n  // Object info\n  objectType: Model.attribute(\"objectType\"),\n  objectId: Model.attribute(\"objectId\"),\n  // Auto update data\n  autoUpdateData: Model.attribute(\"autoUpdateData\"),\n  // Default HTML Tags\n  title: Model.attribute(\"title\"),\n  description: Model.attribute(\"description\"),\n  keywords: Model.attribute(\"keywords\"),\n  // Robots\n  robotsNoindex: Model.attribute(\"robotsNoindex\"),\n  robotsNofollow: Model.attribute(\"robotsNofollow\"),\n  robotsNoarchive: Model.attribute(\"robotsNoarchive\"),\n  robotsNoimageindex: Model.attribute(\"robotsNoimageindex\"),\n  robotsNosnippet: Model.attribute(\"robotsNosnippet\"),\n  // Twitter tags\n  twitterTitle: Model.attribute(\"twitterTitle\"),\n  twitterDescription: Model.attribute(\"twitterDescription\"),\n  twitterImage: Model.attribute(\"twitterImage\"),\n  twitterImageSource: Model.attribute(\"twitterImageSource\"),\n  // Open Graph tags\n  openGraphTitle: Model.attribute(\"openGraphTitle\"),\n  openGraphDescription: Model.attribute(\"openGraphDescription\"),\n  openGraphImage: Model.attribute(\"openGraphImage\"),\n  openGraphImageSource: Model.attribute(\"openGraphImageSource\"),\n  // Extra\n  estimatedReadingTime: Model.attribute(\"estimatedReadingTime\"),\n  // Row info\n  createdAt: Model.attribute(\"createdAt\"),\n  updatedAt: Model.attribute(\"updatedAt\")\n}) {\n  apiEndpoint() {\n    return \"/seo_meta\" + (this.exists ? \"/\" + this.data.id : \"\");\n  }\n}\nflarum.reg.add('vadkuz-flarum2-seo', 'common/Models/SeoMeta', SeoMeta);","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/models/Discussion');","import MetaSeoModal from \"./Components/MetaSeoModal\";\nexport const components = {\n  MetaSeoModal\n};","import app from \"flarum/forum/app\";\nimport DiscussionControls from \"flarum/forum/utils/DiscussionControls\";\nimport Button from \"flarum/common/components/Button\";\nimport { extend } from \"flarum/common/extend\";\nimport MetaSeoModal from \"../common/Components/MetaSeoModal\";\nimport SeoMeta from \"../common/Models/SeoMeta\";\nimport Discussion from \"flarum/common/models/Discussion\";\nimport Model from \"flarum/common/Model\";\nexport * from \"../common/extend\";\napp.initializers.add(\"vadkuz-flarum2-seo\", () => {\n  extend(DiscussionControls, \"moderationControls\", function (items, discussion) {\n    if (!app.forum.attribute(\"canConfigureSeo\")) return;\n    items.add(\"manageSeo\", Button.component({\n      icon: \"fas fa-search\",\n      onclick: () => app.modal.show(MetaSeoModal, {\n        objectType: \"discussions\",\n        objectId: discussion.id()\n      })\n    }, app.translator.trans(\"vadkuz-flarum2-seo.forum.controls.configure_seo\")), -1000);\n  });\n\n  // Register SeoMeta model\n  app.store.models.seoMeta = SeoMeta;\n\n  // Register SeoMeta relations\n  Discussion.prototype.seoMeta = Model.hasOne(\"seoMeta\");\n});"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","flarum","reg","_typeof","iterator","constructor","_defineProperty","e","r","t","i","toPrimitive","TypeError","String","toPropertyKey","configurable","writable","countKeywords","_keywords","keywords","split","status_ok","keyword","length","f","n","Array","isArray","add","arguments","MetaSeoModal","super","this","trans","params","app","translator","concat","oninit","vnode","attrs","object","seoMeta","initialized","alerts","show","type","title","controls","m","class","href","target","setTimeout","hide","meta","initializeLoad","hasChanges","closeText","closeInfoText","loading","enableCustomTwitter","enableCustomOpenGraph","wasManaged","seoTagsOpened","initializeData","autoUpdateData","metaTitle","description","robotsNoindex","robotsNofollow","robotsNoarchive","robotsNoimageindex","robotsNosnippet","twitterTitle","twitterDescription","twitterImage","twitterImageSource","openGraphTitle","openGraphDescription","openGraphImage","openGraphImageSource","estimatedReadingTime","createdAt","updatedAt","className","initialLoading","store","find","objectType","objectId","then","data","isLoading","redraw","content","_this$keywords","_this$openGraphImage","onkeyup","updateHasChanges","state","onchange","bidi","placeholder","disabled","returnFoFUploadButton","fileUrl","source","onclick","returnTag","preventDefault","style","closeDialogButton","onSelect","_flarum$extensions","_fofUpload$components","_fofUpload$components2","fofUploadButton","fofUpload","extensions","Uploader","components","FileManagerModal","forum","attribute","uploader","async","modal","files","file","getById","url","isEnabled","enabledText","disabledText","submitData","_this$keywords2","_this$twitterTitle","_this$twitterDescript","_this$twitterImageSou","_this$openGraphTitle","_this$openGraphDescri","_this$openGraphImage2","_this$openGraphImageS","_this$estimatedReadin","onsubmit","save","catch","console","log","saving","onsaved","SeoMeta","apiEndpoint","exists","id","extend","items","discussion","icon","models"],"sourceRoot":""}